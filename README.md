# QQ_Img_Cleaner

## 项目功能

QQ缓存图片清理工具是一个专为清理QQ缓存图片而设计的桌面应用程序，主要功能包括：

- **图片浏览与管理**：加载并查看QQ缓存文件夹中的图片，支持缩放和拖动查看
- **去重**：根据文件名识别图片组，保留高质量图片
- **批量操作**：支持批量保留或删除图片
- **操作撤销**：支持撤销上一次操作(应用操作以前)
- **双操作模式**：
  - **备份模式**：创建回收站文件夹，将删除的文件移动到该文件夹
  - **直接操作模式**：直接删除文件

## 使用说明

### 安装依赖

```bash
pip install pillow
```

### 运行程序

```bash
python qq_img_cleaner.py
```

### 操作步骤

1. **选择文件夹**：点击"浏览"按钮选择QQ缓存图片文件夹
2. **查看图片**：程序会自动加载并显示图片，可使用鼠标滚轮缩放，拖动查看
3. **操作图片**：
   - 点击"保留"按钮保留当前图片（会删除相似的低质量图片）
   - 点击"删除"按钮删除当前图片（会删除所有相似图片）
   - 点击"撤销"按钮撤销上一次操作
4. **应用操作**：
   - 点击"应用操作"按钮
   - 选择操作模式（推荐使用备份模式）
   - 确认操作

## 免责声明

**重要提示：请仔细阅读以下免责声明**

1. **测试版本**：该项目仅经过基础的测试，并非正式版，可能存在bug。使用该程序意味着使用者知晓风险，因使用该程序造成的数据丢失等问题，作者不承担任何责任。

2. **操作风险**：在涉及到删除操作时需要尤为慎重，强烈建议应用时使用备份模式，此模式会创建一个起到回收站作用的文件夹（文件夹名后添加"-recycle"后缀），提供了反悔的机会。

3. **数据备份**：在使用本工具前，建议对重要的图片数据进行备份，以防意外情况发生。

4. **使用环境**：本工具仅在Windows操作系统测试过，其他操作系统可能存在兼容性问题。

5. **权限要求**：使用本工具需要对目标文件夹有读写权限。

## 注意事项

- 首次运行程序时，会显示欢迎对话框，请仔细阅读相关说明
- 程序会自动跳过无法加载的图片文件，并在日志中显示错误信息
- 备份模式创建的回收站文件夹不会自动清理，请根据需要手动管理
- 对于大量图片的文件夹，加载可能需要一定时间，请耐心等待

## 技术说明

- 使用Python + Tkinter构建GUI界面
- 使用PIL库处理图片
- 使用SQLite数据库记录操作历史

**使用提示**：为了确保数据安全，强烈建议在首次使用时先在测试文件夹上进行操作，熟悉程序功能后再应用到实际的QQ缓存文件夹。